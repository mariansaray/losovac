<!DOCTYPE html>
<html>
<head>
    <title>CountAPI Test</title>
</head>
<body>
    <h1>CountAPI Test</h1>
    <p>Counter Value: <span id="value">Loading...</span></p>
    <button onclick="testGet()">Test GET</button>
    <button onclick="testCreate()">Test CREATE</button>
    <button onclick="testHit()">Test HIT</button>
    <pre id="log"></pre>

    <script>
        const log = document.getElementById('log');
        const valueEl = document.getElementById('value');

        function logMsg(msg) {
            log.textContent += msg + '\n';
            console.log(msg);
        }

        async function testGet() {
            try {
                logMsg('Testing GET...');
                const response = await fetch('https://api.countapi.xyz/get/losovanie.sk/total-lotteries');
                const data = await response.json();
                logMsg('GET Response: ' + JSON.stringify(data));
                valueEl.textContent = data.value || 'null';
            } catch (error) {
                logMsg('GET Error: ' + error.message);
            }
        }

        async function testCreate() {
            try {
                logMsg('Testing CREATE...');
                const response = await fetch('https://api.countapi.xyz/create?namespace=losovanie.sk&key=total-lotteries&value=0');
                const data = await response.json();
                logMsg('CREATE Response: ' + JSON.stringify(data));
                valueEl.textContent = data.value || 'null';
            } catch (error) {
                logMsg('CREATE Error: ' + error.message);
            }
        }

        async function testHit() {
            try {
                logMsg('Testing HIT...');
                const response = await fetch('https://api.countapi.xyz/hit/losovanie.sk/total-lotteries');
                const data = await response.json();
                logMsg('HIT Response: ' + JSON.stringify(data));
                valueEl.textContent = data.value || 'null';
            } catch (error) {
                logMsg('HIT Error: ' + error.message);
            }
        }

        // Auto test on load
        window.onload = () => {
            logMsg('=== AUTO TEST START ===');
            testGet();
        };
    </script>
</body>
</html>
